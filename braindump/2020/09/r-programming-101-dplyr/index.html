<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="[Alok Regmi]">
<meta name="description" content="Dplyr Dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges.
Installation install.packages(&amp;ldquo;dplyr&amp;rdquo;)
Command Usage Pipe command similar to python and other languages in R is represented as:
%&amp;gt;%
See an example:
gapminder %&amp;gt;% filter(year == 1957) %&amp;gt;% group_by(continent)
The command above first applies filter operation to the dataset and on that output groups by continent.
General Commands Filter" />
<meta name="keywords" content="Blog" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://dragarok.github.io/braindump/2020/09/r-programming-101-dplyr/" />


    <title>
        
            R Programming 101- Dplyr ::  
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>





<link rel="stylesheet" href="../../../../main.min.47d1ac1539fe1320a4309408fbd7b3a0a50b48482799b1e81ee0115e02cb24e2.css">




    <link rel="apple-touch-icon" sizes="180x180" href="../../../../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../favicon-16x16.png">
    <link rel="manifest" href="../../../../site.webmanifest">
    <link rel="mask-icon" href="../../../../safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">

<meta itemprop="name" content="R Programming 101- Dplyr">
<meta itemprop="description" content="Dplyr Dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges.
Installation install.packages(&ldquo;dplyr&rdquo;)
Command Usage Pipe command similar to python and other languages in R is represented as:
%&gt;%
See an example:
gapminder %&gt;% filter(year == 1957) %&gt;% group_by(continent)
The command above first applies filter operation to the dataset and on that output groups by continent.
General Commands Filter"><meta itemprop="datePublished" content="2020-09-22T00:00:00+05:45" />
<meta itemprop="dateModified" content="2020-09-26T16:50:02+05:45" />
<meta itemprop="wordCount" content="1168"><meta itemprop="image" content="https://dragarok.github.io/"/>
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://dragarok.github.io/"/>

<meta name="twitter:title" content="R Programming 101- Dplyr"/>
<meta name="twitter:description" content="Dplyr Dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges.
Installation install.packages(&ldquo;dplyr&rdquo;)
Command Usage Pipe command similar to python and other languages in R is represented as:
%&gt;%
See an example:
gapminder %&gt;% filter(year == 1957) %&gt;% group_by(continent)
The command above first applies filter operation to the dataset and on that output groups by continent.
General Commands Filter"/>





    <meta property="article:published_time" content="2020-09-22 00:00:00 &#43;0545 &#43;0545" />








    </head>

    <body class="">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="../../../../" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">~</span>
            <span class="logo__text">K4iv41y4</span>
            <span class="logo__mark">&nbsp;~</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://dragarok.github.io/about/">About</a></li><li><a href="https://dragarok.github.io/ai/">AI</a></li><li><a href="https://dragarok.github.io/posts/">Blog</a></li><li><a href="https://dragarok.github.io/books/">Books</a></li><li><a href="https://dragarok.github.io/braindump/">Braindump</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>6 minutes

            

            </p>
        </div>

        <article>
            <h1 class="post-title">
                <a href="https://dragarok.github.io/braindump/2020/09/r-programming-101-dplyr/">R Programming 101- Dplyr</a>
            </h1>

            

            <div class="post-content">
                <h2 id="dplyr">Dplyr</h2>
<p>Dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges.</p>
<h3 id="installation">Installation</h3>
<blockquote>
<p>install.packages(&ldquo;dplyr&rdquo;)</p>
</blockquote>
<h3 id="command-usage">Command Usage</h3>
<p>Pipe command similar to python and other languages in R is represented as:</p>
<blockquote>
<p>%&gt;%</p>
</blockquote>
<p>See an example:</p>
<blockquote>
<p>gapminder %&gt;% filter(year == 1957) %&gt;% group_by(continent)</p>
</blockquote>
<p>The command above first applies filter operation to the dataset and on that output groups by continent.</p>
<h3 id="general-commands">General Commands</h3>
<!--list-separator-->
<ul>
<li>
<p>Filter</p>
<p>Select a subset of whole dataframe.</p>
<blockquote>
<p>filter( column_name == value )
filter(item %in% c(list_of_items) )
filter(col_1 <code>= val_1, col_1 ==</code> val_2 and so on)</p>
</blockquote>
<p>This command will be written following the pipe sign in R. The second example is used to filter multiple possible OR conditions. The conditions matching AND can either be passed separated by commas or by &amp; sign.</p>
 <!--list-separator-->
<ul>
<li>
<p>Filter NA columns</p>
<blockquote>
<p>filter(is.na(col_name))</p>
</blockquote>
<p>This is used to get those having NA column values.</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Arrange</p>
<p>Sort rows of dataframe based on certain column value.</p>
<blockquote>
<p>arrange(column_name)
arrange(desc(column_name))</p>
</blockquote>
<p>The sorting order is ascending by default. To sort based on descending order, <em>desc</em> keyword is used just before the column name to sort by as shown in the above example.
This command will also be written following the pipe sign in R.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Mutate</p>
<p>Any addition or changing of columns from original dataframe is done by using mutate.</p>
<blockquote>
<p>mutate(pop = pop /  10000)
mutate(popNew = pop /  10000)</p>
</blockquote>
<p>The mutate changes the existing column if existing column is passed to the left of assignment. Else it creates a new column based on that name. Here, the first command changes the <em>pop</em> column and second command creates a new column called <em>popNew.</em></p>
<p>This command will also be written following the pipe sign in R.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Summarize</p>
<p>This is used to create summary of certain columns based on the groupings from the original dataframe. This returns just the summary of dataframe.</p>
<blockquote>
<p>min()
max()
mean()
median()
sum()</p>
</blockquote>
<p>The above mentioned are some general expressions used with summarize operation.</p>
<p>For actual use of summarize:</p>
<blockquote>
<p>group_by(continent) %&gt;%
summarize(medianPop = median(pop))</p>
</blockquote>
<p>If we group by continent first and then make a summary; We get output in the form:</p>
<table>
<thead>
<tr>
<th>Continent</th>
<th>MedianPop</th>
</tr>
</thead>
<tbody>
<tr>
<td>Asia</td>
<td>300000000</td>
</tr>
<tr>
<td>Africa</td>
<td>200000000</td>
</tr>
</tbody>
</table>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Select</p>
<p>This is used to select a part of subtable when you don&rsquo;t want information that is through all the columns of the given dataframe.</p>
<blockquote>
<p>dataframe %&gt;%
select(column_1, column_2, &hellip;)</p>
</blockquote>
 <!--list-separator-->
<ul>
<li>
<p>Advanced commands with select</p>
 <!--list-separator-->
<ul>
<li>
<p>Range of Columns</p>
<blockquote>
<p>select(col_name_1:col_name_N)</p>
</blockquote>
<p>This command selects columns from 1 to N. In general cases, we have similar information related columns together and this is helpful in selecting only those columns without specifying name for each one of them.</p>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Contains</p>
<p>Here contains is used to select columns based on some strings that appear.</p>
<blockquote>
<p>select(col1, contains(&ldquo;string&rdquo;))</p>
</blockquote>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Starts With</p>
<blockquote>
<p>select(starts_with(&ldquo;str&rdquo;))</p>
</blockquote>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Ends With</p>
<blockquote>
<p>select(ends_with=&ldquo;str&rdquo;)</p>
</blockquote>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Last column</p>
<p>Selects the last column of the dataframe.</p>
<blockquote>
<p>select(last_col)</p>
</blockquote>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Rename columns</p>
<p>We can change the column name directly using select.</p>
<blockquote>
<p>select(col_1, col_2 , new_col_3_name = col3_name)</p>
</blockquote>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Help for these commands</p>
<blockquote>
<p>?select_helpers</p>
</blockquote>
</li>
</ul>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Removing column by column names</p>
<blockquote>
<p>select(-col_name1, -col_name2)</p>
</blockquote>
<p>Here minus sign is used to remove a column from some result. In many cases when we are filtering information, we may not want that table in final output as same values have no significance.</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Group By</p>
<p>Often times we want to group similar columns by some higher level of information to observe an analysis from a different perspective. e.g. We may have population of each district and often want to see the trend of zones as well. So, we might group districts by zone and observe them.</p>
<blockquote>
<p>dataframe %&gt;%
group_by(column_name, second_col_name_if_needed, and so on)</p>
</blockquote>
<p>Take care of ordering when using group by to group data by certain columns.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Count( sort=TRUE, wt=some_column)</p>
<p>The specific variables can be counted from the dataset using this verb. The additional parameter can be used to sort results based on count directly from this verb.
The weight variable can be used for sorting based on some value.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Top N</p>
<p>Used together with group. For each group, returns specific number of results. Mostly used when plotting into graphs the extremes for each cases.</p>
<blockquote>
<p>top_n(NUMBER, column_name)
top_n(5, population)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Ungroup</p>
<p>After grouping, ungroup data to make more different kinds of summaries about data. You often will do some grouping and find certain values, then ungroup and perform over it like a new dataset to work with in the first place.</p>
<blockquote>
<p>ungroup()</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Rename</p>
<p>This is used to rename columns in case you want to change them.</p>
<blockquote>
<p>dataframe %&gt;%
rename(new_name = original_name)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Transmute     :ATTACH:</p>
<pre><code> ID: 79a32bed-83e8-4a32-a627-68d353fc970d
</code></pre>
<p>This command not just selects but transforms the column when selecting as well.</p>
<p>Comparison of four different commands:
<img src="../../../../ox-hugo/_20200923_121725screenshot.png" alt=""></p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Window functions</p>
 <!--list-separator-->
<ul>
<li>
<p>Lag function</p>
<blockquote>
<p>mutate(difference, column - lag(column))</p>
</blockquote>
<p>Here lag(column) gets a lagged column values useful for comparing consecutive rows in our dataset.</p>
</li>
</ul>
</li>
</ul>
<h3 id="join-commands">Join Commands</h3>
<!--list-separator-->
<ul>
<li>
<p>Inner Join</p>
<blockquote>
<p>inner_join(table_name, by=c(&ldquo;col_name_in_1st_table&rdquo; = &ldquo;col_name_in_2nd_table&rdquo;, suffix=c(&ldquo;new_name_for_col1&rdquo;, &ldquo;new_name_for_col2&rdquo;, so on.))</p>
</blockquote>
<p>We join tables using inner join conditions using such command.
If both column names are same in both tables, we can just use <em>by = &ldquo;col_name&rdquo;</em> to make a join.
<strong>NOTE</strong> Here notice that inside c used in by clause, there is a equals sign in between. I was confusing it to be comma all the time.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Left Join</p>
<p>When you want to get the elements of the first table fully along with the matching rows in two tables, you ought to use <em>left_join.</em></p>
<blockquote>
<p>left_join(similar_to_other_joins)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Right Join</p>
<p>When you want to get the elements of the second table fully along with the matching rows in two tables, you ought to use <em>right_join.</em></p>
<blockquote>
<p>right_join(similar_to_other_joins)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Full Join</p>
<p>Keeps the output of both tables after matching even if it doesn&rsquo;t appear in the other table.</p>
<blockquote>
<p>full_join(table_2, by=&hellip; , suffix = &hellip;.)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Semi Join</p>
<p>This gives the same columns that are in the first as well as second table.</p>
<blockquote>
<p>semi_join(similar_to_other_joins)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Anti Join</p>
<p>This join gives the columns in another table that are not in the first table.</p>
<blockquote>
<p>anti_join(similar_to_other_joins)</p>
</blockquote>
</li>
</ul>
<h3 id="advanced-commands">Advanced Commands</h3>
<!--list-separator-->
<ul>
<li>
<p>Replace NAs</p>
<blockquote>
<p>replace_na(list(col_name = 0))</p>
</blockquote>
<p>We often have NA values that we want to give meaning to. In this case, we set all NA values to 0 in that column.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Suffix Argument</p>
<blockquote>
<p>any_join_type(table_name, by_condition, suffix=c(&ldquo;replaceText&rdquo;, &ldquo;replaceTextforSecondMatch&rdquo;))</p>
</blockquote>
<p>To clarify the use of this variable, let&rsquo;s assume there are two tables and both contain column called &ldquo;name&rdquo;. Then, what should R do when it joins two tables based on some index from the table. This is where suffix comes into play.
You give two arguments to suffix as <em>&quot;_replaceText&quot;</em> then the first name will append &ldquo;_replaceText&rdquo; to the column name and similarly goes on for the next value as well.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>n() in Summarize Columns</p>
<p>When you want to count the number of rows after grouping, you will use n() function to get the count of rows after grouping.</p>
<blockquote>
<p>summarize(countValue = n(), others&hellip;)</p>
</blockquote>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Bind rows</p>
<p>This is to stack tables over one another.</p>
<blockquote>
<p>table_1 %&gt;% bind_rows(table_2)</p>
</blockquote>
</li>
</ul>
<h3 id="additional-functions">Additional Functions</h3>
<!--list-separator-->
<ul>
<li>
<p>Glimpse()</p>
<p>Give a brief glimpse of the dataset. Shows all columns and their first 10 values or so in a row wise format. This gives an idea about the type of values you will see through the column and often ranges as well.</p>
</li>
</ul>
<h2 id="backlinks">Backlinks</h2>
<ul>
<li><a href="../../../../braindump/2020/09/data-scientist-with-r/">Data Scientist with R</a></li>
</ul>

            </div>
        </article>

        <hr />

        <div class="post-info">

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1168 Words</p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2020-09-22 00:00 &#43;0545</p>
        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h">Read other post</span>
                    <hr />
                </div>

                <div class="pagination__buttons">
                    
                        <span class="button previous">
                            <a href="https://dragarok.github.io/braindump/2020/09/r-programming-101-datacamp-intermediate/">
                                <span class="button__icon">←</span>
                                <span class="button__text">R Programming 101- Datacamp Intermediate</span>
                            </a>
                        </span>
                    

                    
                        <span class="button next">
                            <a href="https://dragarok.github.io/braindump/2020/09/r-programming-101-ggplot/">
                                <span class="button__text">R Programming 101- Ggplot</span>
                                <span class="button__icon">→</span>
                            </a>
                        </span>
                    
                </div>
            </div>
        

        
    </main>

            </div>

        </div>

        




<script type="text/javascript" src="../../../../bundle.min.fbf016a5f89be88f4916a0898302f777692ee6600991c3b6108fc423ed982dc83b470742cc92dd796861136f5ca96988b35e049b5f4cb4b1343686784a58c8ce.js" integrity="sha512-&#43;/AWpfib6I9JFqCJgwL3d2ku5mAJkcO2EI/EI&#43;2YLcg7RwdCzJLdeWhhE29cqWmIs14Em19MtLE0NoZ4SljIzg=="></script>



    </body>
</html>
